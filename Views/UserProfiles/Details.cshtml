@model WebApplication4.Models.UserProfile

@{
    ViewBag.Title = "Details";
}
<link rel="stylesheet" type="text/css" href="~/Content/user-profile-details.css">

<h2>Details</h2>

<div>
    <h4>UserProfile</h4>
    <hr />
    
    <form action="~/api/upload-avatar/" method="post" id="upload-avatar-form"  enctype="multipart/form-data" onsubmit="setTimeout(function(){window.location.reload();},10)">
        @Html.AntiForgeryToken()

        <label>
            <div class="avatar-div">
                <img class="avatar-image" src=@if (Model.AvatarUrl != null) { @Model.AvatarUrl} else { @("../../Content/images/default-avatar.jpg"); } alt="Unable to load default avatar" />
                <span class="tip">Click to change avatar</span>
            </div>
            <input type="file" name="avatar" style="display:none" form="upload-avatar-form" class="file-input">
        </label>
        <br>
    </form>
    
    <div class="jumbotron">
        <form action="~/api/upload-photos/" method="post" enctype="multipart/form-data" class="dropzone" id="dropzoneForm" style="background: none; border: none;">
            @Html.AntiForgeryToken()
            @*<img class="icon" src="~/Content/removebutton.svg" alt="Click me to remove the file." data-dz-remove />*@

            <div class="fallback">
                <input name="file" type="file" multiple />
                <input type="submit" value="Upload" />
            </div>
        </form>
        <button id="submit-all">Submit All Files</button>
    </div>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.JoinDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.JoinDate.Date)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Location)
        </dt>

        <dd>asdasda<br></dd>

        <dt>
            @Html.DisplayNameFor(model => model.About)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.About)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BirthDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BirthDate)

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Gallery", "Gallery") |
    @Html.ActionLink("Back to List", "Index")
</p>
<script type="text/javascript" src="../../Content/js/UserProfile-Details.js" ></script>
